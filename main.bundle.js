!function(e){function t(t){for(var o,i,l=t[0],s=t[1],d=t[2],u=0,p=[];u<l.length;u++)i=l[u],r[i]&&p.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(c&&c(t);p.length;)p.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={1:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var c=s;a.push([5,0]),n()}({5:function(e,t,n){"use strict";n.r(t);n(14),n(9);var o=n(0),r=n.n(o),a=n(4),i=n.n(a);function l(e,t){e.tooltip().on("mouseleave",function(){r()(this).tooltip("hide")});for(var n=0;n<e.length;n++){var o=new i.a(e[n],{container:t?t[0]:void 0});o.on("success",function(e){r()(e.trigger).attr("title","Copied!").tooltip("_fixTitle").tooltip("show").attr("title","Copy to clipboard").tooltip("_fixTitle"),e.clearSelection()}),o.on("error",function(e){var t="Press "+(/Mac/i.test(navigator.userAgent)?"âŒ˜":"Ctrl-")+"C to copy";r()(e.trigger).attr("title",t).tooltip("_fixTitle").tooltip("show").attr("title","Copy to clipboard").tooltip("_fixTitle")})}}var s=n(3),d=n.n(s);function c(e){var t=r.a.Deferred();return function(e){var t=r.a.Deferred(),n=new d.a(e,!0);if("http:"!==n.protocol&&"https:"!==n.protocol){if(!n.query.r)return t.reject(new Error("Invalid payment protocol url"));e=n.query.r}var o={dataType:"text",url:e,headers:{Accept:"application/payment-request"}};return r.a.get(o).done(function(e,n,o){t.resolve(e,null)}).fail(function(e){t.reject(e.responseText||"Could not get data for the specified payment request")}),t}(e).done(function(e,n){(function(e,t){var n=r.a.Deferred(),o=void 0;if(!e)return n.reject("Parameter rawBody is required");try{o=JSON.parse(e)}catch(e){return n.reject("Unable to parse request - "+e)}return n.resolve(o)})(e).done(function(e){t.resolve(e)}).fail(function(e){t.reject(e)})}).fail(function(e){t.reject(e)}),t}var u='\n<div class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title"></h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n',p=void 0;function f(e,t,n){n=n||{},p&&p.remove(),p=r()(u),r()(".modal-title",p).text(e),r()(".modal-body",p).append(t),n.size&&(r()(".modal-dialog",p).addClass("modal-"+n.size),r()(".modal-footer .btn",p).addClass("btn-"+n.size)),p.appendTo("body").modal({keyboard:!0,show:!0}),l(r()(".btn-clipboard",p),p)}var m=n(2),v=n.n(m),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y={currency:"Currency",requiredFeeRate:"Fee Rate (sats/byte)",time:"Creaated at",expires:"Expires at",memo:"Memo",amountBTC:"Amount",amount:"Amount in Satoshis",address:"Address",bip21Link:"Open in Wallet"},h=[["currency","requiredFeeRate"],["time","expires"],"memo"],g=[["amountBTC","amount"],"address","bip21Link"],x=["memo"],w=["bip21Link"],C=["bip21Link"],T=["amountBTC","amount","address"];function O(e,t){if(x.indexOf(e)>-1)return r()('<textarea class="form-control form-control-lg" readonly>'+t+"</textarea>");var n=r()('<input type="text" class="form-control form-control-lg" value="'+t+'" readonly>');if(T.indexOf(e)>-1){var o=r()('<div class="input-group"></div>');return o.append(n).append('\n        <div class="input-group-append">\n          <button class="btn btn-clipboard btn-success btn-lg" data-clipboard-text="'+t+'" title="Copy to clipboard">COPY</button>\n        </div>\n      '),o}return n}function k(e,t){var n,o,a=void 0;if((void 0===t?"undefined":b(t))===b([]))a=r()('<div class="form-row"></div>'),t.forEach(function(t){var n=r()('\n        <div class="form-group col-lg">\n          <label>'+y[t]+"</label>\n        </div>\n      "),o=O(t,e[t]);n.append(o),a.append(n)});else if(w.indexOf(t)>-1){if(a=r()('<div class="text-center"></div>'),C.indexOf(t)>-1){var i=(n=e[t],(o=v()(0,"M")).addData(n),o.make(),r()(o.createImgTag(5)));i.addClass("img-fluid"),a.append(i)}var l=r()('<div><a href="'+e[t]+'" class="btn btn-lg btn-primary">'+y[t]+"</a><div>");a.append(l)}else{a=r()('\n        <div class="form-group">\n          <label>'+y[t]+"</label>\n        </div>\n      ");var s=O(t,e[t]);a.append(s)}return[a]}function B(e){var t=r()("<div></div>");return h.forEach(function(n){t.append(k(e,n))}),t.append("<hr>"),e.outputs.forEach(function(n){var o,r,a,i,l;n.amountBTC=n.amount/1e8,n.bip21Link=(o="BCH"===e.currency,r=n.address,a=n.amountBTC,i="Bitpay",l="Payment",(o?"bitcoincash":"bitcoin")+":"+r+(a?"?amount="+encodeURIComponent(a):"")+(i?"?label="+encodeURIComponent(i):"")+(l?"?message="+encodeURIComponent(l):"")),g.forEach(function(e){t.append.apply(t,k(n,e))})}),t}var q="\n  <p>When you press the <i>Get Transaction Requirements</i> button:</p>\n  <ol>\n    <li>DeBitpay extracts an invoice url from the entered payment url (string after 'bitcoin:?r='), or keeps the url as is if you entered an invoice url (begins with http:// or https://)</li>\n    <li>DeBitpay loads data from the invoice url using a HTTP GET request with 'Accept: application/payment-request' header</li>\n    <li>DeBitpay shows a window with the data returned by the invoice url, structured and formatted for convenience. Bitcoin amount is calculated from satoshis data, QR Code image and Open In Wallet button are rendered from Address and Amount data, the rest data is shown as-is without modifications.</li>\n  </ol>\n  <p class=\"alert alert-info\">Entered Invoice URL is the only external resource DeBitpay connects to. No analytics, no external scripts, etc.</p>\n";function P(e){r()("#indexForm button").prop("disabled",e)}function R(){r()("#indexForm").submit(function(e){if(e.preventDefault(),!r()("#indexForm button").prop("disabled")){P(!0);var t=r()("#indexForm input").val();t?c((n=t,o=n.indexOf("?id="),o>-1?"bitcoin:?r=https://bitpay.com/i/"+n.substr(o+4):n)).done(function(e){f("Payment Request Data",B(e),{size:"lg"}),P(!1)}).fail(function(e){f("Error",e),P(!1)}):(f("Warning","Enter Payment URL or Invoice Page URL to continue"),P(!1))}var n,o})}R(),r()("button.how-it-works").click(function(e){e.preventDefault(),f("How it works?",q,{size:"lg"})}),l(r()("footer .btn-clipboard")),r()("body > .is-loading").remove()}});